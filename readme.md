# Fast pizza

## Model/products.php

Цей файл відповідає за отримання списку товарів з MockAPI та поділ їх на дві групи - піцци та напої

### Логіка роботи  
* Виконує HTTP-запит до MockAPI:  
	`https://6920637531e684d7bfccd5fa.mockapi.io/api/pizzav1/Product`
* Перевіряє, чи вдалося отримати дані.
* Декодує JSON у PHP-масив.
* Перебирає товари та розподіляє їх за категоріями.
* Результати зберігаються у відповідні змінні, що доступні у викликаному файлі.

## Presenter/cart_actions.php

Цей скрипт відповідає за обробку всіх дій, пов’язаних із кошиком, який зберігається в сесії (`$_SESSION['cart']`).

### Логіка роботи

* Ініціалізує `$_SESSION['cart]`, якщо кошик ще не існує.
* Підтримує зміну кількості товару через GET-параметри:

  * `qty` — ключ елемента,
  * `action` — `inc` (збільшити) або `dec` (зменшити).
* Якщо зміна кількості викликана AJAX-запитом (перевірка заголовка `HTTP_X_REQUESTED_WITH`), повертає JSON-відповідь.
* Підтримує видалення одного товару через параметр `remove`.
* Підтримує очищення всього кошика через параметр `clear`.

---

## Presenter/index_actions.php

Цей файл є API-ендпойнтом для обробки POST-запитів, які додають товари в кошик. Повертає відповіді у форматі JSON.

### Логіка роботи

* Виконує `session_start()` та встановлює заголовок `Content-Type: application/json`.
* Ініціалізує `$_SESSION['cart]`, якщо кошик ще не створений.
* Очікує POST-параметр `action`; підтримувані дії:

1. **add_pizza**

   * Параметри: `id`, необов’язково — `name`, `price`, `img`.
   * Додає або інкрементує піцу у кошику за ключем `pizza_{id}`.

2. **add_drink**

   * Параметри: `drink_key`, необов’язково — `name`, `price`.
   * Додає або інкрементує напій у кошику за ключем `drink_{drink_key}`.

* На успішні дії повертає JSON:

  ```json
  { "success": true, "message": "..." }
  ```
* На помилкові —

  ```json
  { "success": false, "message": "..." }
  ```
* Для невідомого параметра `action` повертає помилку: **"Невідома дія"**.

---

### Примітка

Обидва файли використовують сесійний масив `$_SESSION['cart']` та не виконують валідацію даних чи збереження в базі даних.
`index_actions.php` використовується переважно для AJAX-запитів із фронтенда.