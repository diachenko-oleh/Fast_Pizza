# Fast pizza

## Model/admin_products.php

Файл відповідає за обробку запитів з панелі адміністратора.

### Логіка роботи  
* get_all_products() - отримання всіх товарів меню.
* update_product() - оновити один товар.
* update_products_bulk() - оновлення групи товарів.
* function create_product() - створення нового продукту.
* function delete_product() - видалення продукту.
* get_product_by_id() - отримання товару по id.

## Model/auth.php

Файл відповідає за обробку запитів пов'язаних з реєстрацією користувача.

### Логіка роботи

* register_client() - реєстрація нового клієнта.
* get_client_by_phone() - отримання клієнта за телефоном.
* get_client_by_email() - отримання клієнта за email.
* login_client_by_phone() - вхід користувача через телефон (перевірка пароля).
* login_client_by_email() - вхід користувача через email (перевірка пароля).
* get_current_user_client() - отримання поточного користувача з сесії.
* is_client_logged_in() - перевірка чи користувач авторизований.
* logout_client() - вихід користувача.
* set_client_session() - встановлення сесії для клієнта.
* update_client_stripe_id() - оновлення id клієнта для сервіса оплати.

## Model/db.php

Файл відповідає за підключаення бази даних до проекту.

## Model/products.php

Файл відповідає за запити для роботи меню.

---

## Presenter/admin_actions.php

Файл відповідає за обробку дій користувача на панелі адміністратора та передачі запитів до Model.

### Логіка роботи

* Оброблює створення, оновлення, перегляд та видалення товарів.

## Presenter/auth_actions.php

Файл відповідає за обробку дій користувача при реєстрації та передачі запитів до Model.

### Логіка роботи

* normalize_and_validate_phone() - нормалізація та валідація номера телефону.
* Перевіряє форму реєстрації шляхом:
   * Запису значень.
   * Валідації.
   * Перевірки формату телефону.
   * Перевірка незайнятості електронної адреси.
   * Перевірка співпадінь введеного паролю.
   * Відправка форми в Model
* Перевіряє форму входу:
   * Валідація полів.
   * Перевірка паролю та телефону.
* Опрацювання форми виходу.
* Опрацювання оновлення даних профілю.

## Presenter/cart_actions.php

Файл відповідає за обробку дій користувача у кошику та передачі запитів до Model.

### Логіка роботи

* Обробка зміни кількості товару.
* Обробка видалення товару.
* Обробка очищення кошика.
* Обробка форми оформлення замовлення:
  * Перевірка авторизації.
  * Валідація обов'язкових полів.
  * Формування замовлення.

## Presenter/menu_actions.php

Файл відповідає за обробку дій користувача в меню та передачі запитів до Model.

### Логіка роботи

* Обробка додання товару в кошик

---

## View/images

Папка містить зображення, що використовуються у інтерфейсі.

## View/admin.css

Файл, що містить стилі, використані для сторінок панелі адміністратора.

## View/admin_edit_page.php

Файл відповідає за інтерфейс сторінки, що відповідає за внесення змін до меню, містить підключення до Presenter.

### Логіка роботи

* Виводить усі пункти меню та має кнопки керування для створення, редагування та видалення.

## View/admin_orders.php

Файл відповідає за інтерфейс сторінки, що відповідає за роботу із замовленнями містить підключення до Presenter.

### Логіка роботи

* Формує Чеки з відповідних замовлень та містить елементи їх керування.

## View/admin_courier.php

Файл відповідає за інтерфейс сторінки, що відповідає за роботу з кур'єрами, містить підключення до Presenter.

### Логіка роботи

* Виводить перелік всіх Кур'єрів, відображає їх статус та надає можливість призначити кур'єру замовлення.

## View/admin_page.php

Файл відповідає за інтерфейс сторінки, що відповідає перехід на інші сторінки панелі адміністратора.

### Логіка роботи

* Містить переходи на інші сторінки.

## View/auth_page.php

Файл відповідає за інтерфейс сторінки, що відповідає за вхід/реєстрацію користувача, містить підключення до Presenter.

### Логіка роботи

* Містить форму для реєстрації/входу.

## View/cart_page.php

Файл відповідає за інтерфейс сторінки, що відповідає за кошик, містить підключення до Presenter.

### Логіка роботи

 * Містить кошик, елементи керування його вмістом.
 * Містить форму оформлення замовлення, вбудовану валідацію вводимої інформації.

## View/delivery_page.php

Файл відповідає за інтерфейс сторінки, що відповідає інформацію про доставку.

### Логіка роботи

 * Містить інформацію про види доставок, їх вартість.
 * Містить карту, що дозволяє користувачу побудувати маршрут від обраної точки до обного закладу.

## View/footer.php

Файл відповідає за вигляд такої частини інтерфейсу як footer.

## View/header.php

Файл відповідає за вигляд такої частини інтерфейсу як header.

## View/info_page.php

Файл відповідає за інтерфейс сторінки, що відповідає інформацію про компанію.

### Логіка роботи

 * Містить адреси закладів у місті.
 * Містить графік роботи закладів.
 * Містить контактну інформацію.

## View/menu_page.php

Файл відповідає за інтерфейс сторінки, що відповідає за меню закладу, містить підключення до Presenter.

### Логіка роботи

* Містить меню засладу.

## View/order_history.php

Файл відповідає за інтерфейс сторінки, що відповідає за історію замовлень користувача, містить підключення до Presenter.

### Логіка роботи

* Виводить користувачу список замовлень.
* Містить функціонал відгуків.

## View/profile_page.php

Файл відповідає за інтерфейс сторінки, що відповідає аккаунт користувача, містить підключення до Presenter.

### Логіка роботи

* Містить всю інформацію про користувача.
* Містить функціонал зміни особистої інформації.
* Містить перехід на сторінку історії замовлень.

## View/styles.css

Файл, що містить стилі, використані для більшості сторінок.

---

## vendor

Містить composer, необхідний для роботи сервісів додатку.

## checkout.php

Файл відповідає за сторінку сервісу оплати.

### Логіка роботи

* Містить форму для оплати замовлення.

## checkout_existing.php

Файл відповідає за сторінку логіку оплати.

### Логіка роботи

* Перевірка та валідація даних оплати.

## create_billing_account.php

Файл відповідає за сторінку створення аккаунту оплати

### Логіка роботи

* Створення платника по переданій інформації.

## create_payment_existing.php

Файл відповідає за проведення оплати

### Логіка роботи

* Проведення оплати та передача інформації на API.

## success.php

Файл відповідає за сторінку успішної оплати.

### Логіка роботи

* Виведення повідомлення успішної оплати.

### Примітка
